<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/apt/usage.apt.vm at 2022-08-16
 | Rendered using Apache Maven Fluido Skin 1.9
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <meta name="author" content="Stephen Connolly" />
    <meta name="date" content="2010-03-10" />
    <title>Animal Sniffer Maven Plugin &#x2013; Usage</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.9.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.9.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <a href="https://github.com/mojohaus/animal-sniffer-maven-plugin">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="../../" id="bannerLeft"><img src="../../images/mojo_logo.png"  alt="MojoHaus"/></a></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
      <li class=""><a href="../../" title="MojoHaus">MojoHaus</a><span class="divider">/</span></li>
      <li class=""><a href=".." title="Animal Sniffer">Animal Sniffer</a><span class="divider">/</span></li>
      <li class=""><a href="./" title="Animal Sniffer Maven plugin">Animal Sniffer Maven plugin</a><span class="divider">/</span></li>
    <li class="active ">Usage <a href="https://github.com/mojohaus/animal-sniffer/animal-sniffer-maven-plugin/src/site/apt/usage.apt.vm"><img src="./images/accessories-text-editor.png" title="Edit" /></a></li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2022-08-16</li>
          <li id="projectVersion" class="pull-right"><span class="divider">|</span>Version: 1.22</li>
      <li class="pull-right"><a href="https://maven.apache.org/" class="externalLink" title="Maven">Maven</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Parent Project</li>
    <li><a href="../index.html" title="Codehaus Mojo Parent"><span class="none"></span>Codehaus Mojo Parent</a></li>
    <li><a href="../animal-sniffer/index.html" title="Animal Sniffer Parent project"><span class="none"></span>Animal Sniffer Parent project</a></li>
   <li class="nav-header">Overview</li>
    <li><a href="index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li class="active"><a href="#"><span class="none"></span>Usage</a></li>
    <li><a href="faq.html" title="Frequently Asked Questions"><span class="none"></span>Frequently Asked Questions</a></li>
   <li class="nav-header">Examples</li>
    <li><a href="examples/checking-signatures.html" title="Checking a project against API signatures"><span class="none"></span>Checking a project against API signatures</a></li>
    <li><a href="examples/generating-java-signatures.html" title="Generating signatures of the Java Runtime"><span class="none"></span>Generating signatures of the Java Runtime</a></li>
    <li><a href="examples/generating-other-api-signatures.html" title="Generating signatures of other APIs"><span class="none"></span>Generating signatures of other APIs</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<section>
<h2><a name="Usage"></a>Usage</h2>
<p>The plugin offers goals for checking projects against the signatures of an API as well as goals for generating signatures of APIs.</p><section>
<h3><a name="Basic_Usage"></a>Basic Usage</h3><section>
<h4><a name="Checking_a_project_against_an_API_signature"></a>Checking a project against an API signature</h4>
<p>In order to check your project against an API signature, you must configure your <code>pom.xml</code> to reference the signature to check against:</p>
<div>
<pre>&lt;project&gt;
  ...
  &lt;build&gt;
    ...
    &lt;plugins&gt;
      ...
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
        &lt;artifactId&gt;animal-sniffer-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.22&lt;/version&gt;
        ...
        &lt;configuration&gt;
          ...
          &lt;signature&gt;
            &lt;groupId&gt;org.codehaus.mojo.signature&lt;/groupId&gt;
            &lt;artifactId&gt;java15&lt;/artifactId&gt;
            &lt;version&gt;1.0&lt;/version&gt;
          &lt;/signature&gt;
          ...
        &lt;/configuration&gt;
        ...
      &lt;/plugin&gt;
      ...
    &lt;/plugins&gt;
    ...
  &lt;/build&gt;
  ...
&lt;/project&gt;</pre></div>
<p>The example above configures the signature for JRE 1.5. For a list of other ready-made signatures, please visit the <a class="externalLink" href="http://mojo.codehaus.org/signatures/">Animal Scents subproject</a>.</p>
<p>In order to check your project against the signature you have just configured, either invoke the <code>animal-sniffer:check</code> goal directly, e.g.</p>
<div>
<pre>mvn animal-sniffer:check</pre></div>
<p>or to make the checks part of your build process add an execution to your configuration, e.g.</p>
<div>
<pre>&lt;project&gt;
  ...
  &lt;build&gt;
    ...
    &lt;plugins&gt;
      ...
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
        &lt;artifactId&gt;animal-sniffer-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.22&lt;/version&gt;
        &lt;executions&gt;
          ...
          &lt;execution&gt;
            &lt;id&gt;___id of execution___&lt;/id&gt;
            ...
            &lt;phase&gt;test&lt;/phase&gt;
            ...
            &lt;goals&gt;
              &lt;goal&gt;check&lt;/goal&gt;
            &lt;/goals&gt;
            ...
          &lt;/execution&gt;
          ...
        &lt;/executions&gt;
      &lt;/plugin&gt;
      ...
    &lt;/plugins&gt;
    ...
  &lt;/build&gt;
  ...
&lt;/project&gt;</pre></div>
<p><b>Note:</b> If you are attaching the plugin to your build process, and you want to check against multiple separate APIs (e.g. check against the Tomcat, JBoss, and Jetty servlet containers, or check against multiple Java versions) then you will probably want to move the signature configuration inside each of your multiple executions otherwise your project will be checked against the union of all the signatures specified, which is probably not what you want.</p>
<p><a href="./examples/checking-signatures.html"> Some more detailed examples of the <code>check</code> goal</a>.</p></section><section>
<h4><a name="Generating_API_signatures"></a>Generating API signatures</h4>
<p>To generate the signatures of an API, simply construct a project with the appropriate dependencies exposed by the API and then add an execution of the <code>animal-sniffer:build</code> goal to your project, e.g.</p>
<div>
<pre>&lt;project&gt;
  ...
  &lt;build&gt;
    ...
    &lt;plugins&gt;
      ...
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
        &lt;artifactId&gt;animal-sniffer-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.22&lt;/version&gt;
        &lt;executions&gt;
          ...
          &lt;execution&gt;
            &lt;id&gt;___id of execution___&lt;/id&gt;
            ...
            &lt;phase&gt;package&lt;/phase&gt;
            ...
            &lt;goals&gt;
              &lt;goal&gt;build&lt;/goal&gt;
            &lt;/goals&gt;
            ...
          &lt;/execution&gt;
          ...
        &lt;/executions&gt;
      &lt;/plugin&gt;
      ...
    &lt;/plugins&gt;
    ...
  &lt;/build&gt;
  ...
&lt;/project&gt;</pre></div>
<p>For more detailed examples of how to configure this goal see:</p>
<ul>
<li><a href="./examples/generating-java-signatures.html">Generating signatures of the Java Runtime</a></li>
<li><a href="./examples/generating-other-api-signatures.html">Generating signatures of other APIs</a></li></ul></section></section></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2008&#x2013;2022
<a href="https://www.mojohaus.org">MojoHaus</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>